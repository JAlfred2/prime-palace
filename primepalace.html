<html>
<head>
<title>Prime Palace</title>
<style>
#container1{
height: 100%;
width: 100%;
background-color: silver;
}
#container2{
height: 100%;
width: 50%;
background: LightSteelBlue; /* For browsers that do not support gradients */
background: -webkit-linear-gradient(left top, Azure, LightSteelBlue); /* For Safari 5.1 to 6.0 */
background: -o-linear-gradient(bottom right, Azure, LightSteelBlue); /* For Opera 11.1 to 12.0 */
background: -moz-linear-gradient(bottom right, Azure, LightSteelBlue); /* For Firefox 3.6 to 15 */
background: linear-gradient(to bottom right, Azure, LightSteelBlue); /* Standard syntax */
margin: auto;
border-radius: 1em;
text-align: center;
font-family: "Trebuchet MS", Helvetica, sans-serif;
text-shadow: .01em .01em #ff0000;
}
#title{
height: 19%;
text-align: center;
font-size: 4.2em;
font-family: "Trebuchet MS", Helvetica, sans-serif;
color: #343434;
text-shadow: .02em .02em #ffbbbb;
margin-bottom: 0%;
margin-top: 0%;
}
button{
background: LightSteelBlue; /* For browsers that do not support gradients */
background: -webkit-linear-gradient(left top, Azure, LightSteelBlue); /* For Safari 5.1 to 6.0 */
background: -o-linear-gradient(bottom right, Azure, LightSteelBlue); /* For Opera 11.1 to 12.0 */
background: -moz-linear-gradient(bottom right, Azure, LightSteelBlue); /* For Firefox 3.6 to 15 */
background: linear-gradient(to bottom right, Azure, LightSteelBlue); /* Standard syntax */
border: .045em solid DarkGrey;
border-radius: .3em;
text-align: center;
display: inline-block;
height: 20%;
width: 100%;
float:left;
font-size: 3em;
font-family: "Trebuchet MS", Helvetica, sans-serif;
-moz-box-shadow: 0 0 5px 5px #888;
-webkit-box-shadow: 0 0 5px 5px#888;
box-shadow: 0 0 3px 3px #888;
margin: .009em;
cursor: pointer;
}
button:hover{
background-color: AntiqueWhite;
opacity: 0.78;
}
button:active{
background-color: white;
}
#input1{
margin: auto;
height: 12%;
font-size: 3em;
border-radius: .5em;
}
#input2{
margin: auto;
height: 12%;
font-size: 3em;
border-radius: .5em;
}
#out{
font-size: 3.2em;
height:55%;
}
#about{
height: 1%;
font-size: .7em;
position:absolute;
right:26%;
cursor: pointer;
}
#backer{
height: 1%;
font-size: .7em;
position:absolute;
right:26%;
cursor: pointer;
}
</style>
</head>
<body>
<div id="container1">
<div id="container2">
<div id="about" onclick="about()">About</div>
<p id="title" onclick="test()">Prime Palace</p>
<button id="primTest" onclick="primTest1()" onmouseover="this.innerHTML = 'Determines if a number is prime or not.'" onmouseout="this.innerHTML = 'Primality Test'">Primality Test</button>
<button id="primFact" onmouseover="this.innerHTML = 'Breaks number into its prime factorization.'" onmouseout="this.innerHTML = 'Prime Factorization'" onclick="factorize1()">Prime Factorization</button>
<button id="primBetw" onclick="primBetw1()" onmouseover="this.innerHTML = 'Counts primes between two numbers.'" onmouseout="this.innerHTML = 'Primes Between'">Primes Between</button>
<button id="cheby" onclick="cheby1()" onmouseover="this.innerHTML = 'The sum of the log of each prime below a number.'" onmouseout="this.innerHTML = 'Chebyshev Function'">Chebyshev Function</button>
</div>
</div>
<script>
function about(){
document.getElementById('container2').innerHTML = "<p>These are simple, bare-knuckle algorithms. Nothing fancy.</p><div id='backer' onclick='location.reload()'>Back</div><h1>Primality Test - </h1><p>If the number is even, divisible by 3, or divisible by 5, this will surely go into the quintillions. Otherwise, it has trouble with numbers over 21 million.</p><br><h1>Prime Factorization - </h1><p>Works really well until you get to about 21 million. Might go even higher if the leading digit is a 1.</p><br><h1>Primes Between - </h1><p>Works best if the space between numbers is less than 100,000. That might decrease with bigger numbers.</p><br><h1>Chebyshev Function - </h1><p>The primorial of x is the product of each prime below x. The Chebyshev Function is the natural logarithm of that number. The limit of theta(x)/x as x goes to infinity is 1.</p>";
}

function cheby1(){
document.getElementById('container2').innerHTML = "<input id='input1' onkeypress = 'cheby2(event)' /><div id='out'></div>";
document.getElementById('container2').innerHTML += "<button id='back' onclick='location.reload()'>Back</button>";
}

function cheby2(e){
if(e.keyCode == 13){
var x = document.getElementById('input1').value;
var xa = x;
var xb = x;
//var y = 0;
//var yb = 0;
//var ya = performance.now();
document.getElementById('input1').innerHTML = "";
document.getElementById('out').innerHTML = "";
var runSum = 0;
var primeCounter = 0;
while(xb > 1){
xa = xb;
var primeChecker = 0;

for(var n = 2; n <= xa; n++){
if(xa % n == 0){
primeChecker++;
//document.getElementById('out').innerHTML += n + " divides " + xa + " ";
xa = xa / n;
n--;
}
}
//var pArray = [];
if(primeChecker == 1){
primeCounter++;
runSum += Math.log(n);

if(n == 2){

//pArray.push(n);
//document.getElementById('out').innerHTML += "ln(" + n + ")"
document.getElementById('out').innerHTML += "<br>&theta;(x) = " + runSum;
document.getElementById('out').innerHTML += "<br>There are " + primeCounter + " primes below " + x + ".";
//yb = performance.now()
//y = yb - ya;
//document.getElementById('out').innerHTML += "<br>Time " + y;

}
else{
//document.getElementById('out').innerHTML += "ln(" + n + ") + ";
//pArray.push(n);
}
}
xb--;
}

}
}

function primBetw1(){
document.getElementById('container2').innerHTML = "<input id='input1' /><input id='input2' onkeypress = 'primBetw2(event)' /><div id='out'></div>";
document.getElementById('container2').innerHTML += "<button id='back' onclick='location.reload()'>Back</button>";
}

function primBetw2(e){
if(e.keyCode == 13){

document.getElementById('out').innerHTML = "";
var x1 = document.getElementById('input1').value;
var x2 = document.getElementById('input2').value;
var primeCounter = 0;

if(x1 < 0 || x2 < x1 || x2 < 1){
document.getElementById('out').innerHTML = "Improper data.";
}
else{
document.getElementById('out').innerHTML = "Primes between " + x1 + " and " + x2 + ":";


while(x2 >= x1){
var primeChecker = 0;
var x = x2;
if(x % 30 == 1 || x % 30 == 7 || x % 30 == 11 || x % 30 == 13 || x % 30 == 17 || x % 30 == 19 || x % 30 == 23 || x % 30 == 29){
for(var n = 7; n <= x; n++){
if(x % n == 0){
primeChecker++;
x = x / n;
n--;
}
}

if(primeChecker == 1){
primeCounter++;
}
}
else if(x == 2 || x == 3 || x ==5){
primeCounter++;
}
else{
//not prime
}
x2--;
}



document.getElementById('out').innerHTML += "<br>There are " + primeCounter + " primes.";
}

}
}

function primTest1(){
document.getElementById('container2').innerHTML = "<input id='input1' onkeypress = 'primTest2(event)' /><div id='out'></div>";
document.getElementById('container2').innerHTML += "<button id='back' onclick='location.reload()'>Back</button>";
}

function primTest2(e){
if(e.keyCode == 13){
var x = document.getElementById('input1').value;
document.getElementById('out').innerHTML = x;

if(x % 30 == 1 || x % 30 == 7 || x % 30 == 11 || x % 30 == 13 || x % 30 == 17 || x % 30 == 19 || x % 30 == 23 || x % 30 == 29){
var primeChecker = 0;
var x1 = x;
for(var n = 2; n <= x1; n++){
if(x1 % n == 0){
primeChecker++;
x1 = x1 / n;
n--;
}
}
if(primeChecker == 1){
document.getElementById('out').innerHTML += "<br>Prime.";
}
else{
document.getElementById('out').innerHTML += "<br>Not prime.";
}
}

else if(x == 2 || x == 3 || x == 5){
document.getElementById('out').innerHTML += "<br>Prime.";
}

else{
document.getElementById('out').innerHTML += "<br>Not prime.";
}

}
}

function factorize1(){
document.getElementById('container2').innerHTML = "<input id='input1' onkeypress = 'factorize2(event)' /><div id='out'></div>";
document.getElementById('container2').innerHTML += "<button id='back' onclick='location.reload()'>Back</button>";
}

function factorize2(e){
if(e.keyCode == 13){
var x = document.getElementById('input1').value;
var xa = x;
//document.getElementById('input1').innerHTML = "";
document.getElementById('out').innerHTML = "";
if(x >= 2){
var primeCounter = 0;
var n = 2;
for(n; n <= x; n++){
if(x % n == 0){
primeCounter++;
document.getElementById('out').innerHTML += n;
x = x / n;
if(x != 1){
document.getElementById('out').innerHTML += "*";
}
n--;
}
}
if(primeCounter == 1){
document.getElementById('out').innerHTML = "Prime";
}
}
else{
document.getElementById('out').innerHTML = "Improper data.";
}
}
}

</script>
</body>
</html>